{% extends "../widget.xml.twig" %}

{% block content %}
  <frame pos="0 0">
    <quad pos="0 0" size="{{ size.width }} 4" bgcolor="0C6" />
    <label
      text="{{ header.text }}"
      size="{{ size.width }} 4"
      halign="center"
      valign="center"
      textsize="2"
      pos="{{ size.width / 2 }} -1.5"
      textfont="{{ header.font }}"
    />

    {% set rowHeight = 4 + record.padding.top|padding + record.padding.bottom|padding %}

    {% for rec in records %}
      <frame pos="0 -{{ loop.index * rowHeight + (loop.index != 1 ? record.border.bottom is defined ? record.border.bottom|border : 0 : 0) }}">
        <quad pos="0 0" size="{{ size.width }} {{ rowHeight }}" bgcolor="000" />
        <label
          text="{{ rec.position }}"
          size="{{ record.position.width|position }} {{ 4 - record.padding.top|padding - record.padding.bottom|padding  + 0.5 }}"
          pos="{{ (record.position.width|position / 2 - 1.5)|min(1.5) }} -{{ (4 - record.padding.top|padding + 0.25 - record.padding.bottom|padding) / 2 }}"
          textfont="{{ record.position.font }}"
          valign="center"
          halign="center"
          textsize="1.5"
          textcolor="{{ record.position.color }}"
        />

        <label
          text="{{ rec.player }}"
          size="{{ size.width - 10 - record.player.padding.left|padding - record.player.padding.right|padding - record.position.width|position }} {{ 4 + record.player.padding.top|padding + record.player.padding.bottom|padding }}"
          pos="{{ record.position.width|position + record.player.padding.left|padding }} -{{ (4 + record.player.padding.top|padding + record.player.padding.bottom|padding) / 2 }}"
          textfont="{{ record.player.font }}"
          valign="center"
          textsize="1.5"
          textcolor="{{ record.player.color }}"
        />
        <label
          text="{{ rec.time }}"
          size="{{ 10 - record.time.padding.left|padding - record.time.padding.right|padding }} {{ 4 - record.time.padding.top|padding - record.time.padding.bottom|padding }}"
          pos="{{ size.width - 10 - record.time.padding.left|padding }} -{{ (4 - record.time.padding.top|padding - record.time.padding.bottom|padding) / 2 }}"
          valign="center"
          textfont="{{ record.time.font }}"
          textcolor="{{ record.time.color }}"
          textsize="1.5"
        />

        {% if record.border.bottom %}
          <quad
            pos="0 -{{ 4 + record.padding.top|padding + record.padding.bottom|border }}"
            size="{{ size.width }} {{ record.border.bottom|border }}"
            bgcolor="{{ record.border.color }}"
          />
        {% endif %}
      </frame>
    {% endfor %}
  </frame>
{% endblock %}